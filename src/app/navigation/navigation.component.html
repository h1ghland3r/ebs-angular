<mat-sidenav-container>
  <mat-sidenav #sidenav fixedInViewport="true" [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'" [opened]="false">
    <mat-toolbar color="accent" class="mat-elevation-z1">Menu</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item class="invisible" routerLink="/"></a>
      <a mat-list-item routerLink="/persons" routerLinkActive="active">Persons</a>
      <a mat-list-item routerLink="/families" routerLinkActive="active">Families</a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <div fxLayout="column" class="default-content-container">
      <div fxFlex="none" class="toolbar mat-elevation-z2">
        <mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="center" fxLayoutWrap="wrap">
          <mat-toolbar-row>
            <button mat-icon-button #menuButton type="button" aria-label="sidenav toggle" class="sidenav-btn--toggle" (click)="sidenav.toggle()"
              style="outline: none;">
              <mat-icon aria-label="Side nav toggle icon" style="outline: none;">menu</mat-icon>
            </button>
            <span fxFlex>
              <img src="../../assets/images/toolbar-logo.png" alt="ebs logo toolbar" class="logo">
            </span>

            <span fxLayout="row" fxLayoutAlign="end center">
              <button mat-button [matMenuTriggerFor]="userMenu">
                <mat-icon>admin_panel_settings</mat-icon>
                <mat-icon>expand_more</mat-icon>
              </button>
              <mat-menu #userMenu="matMenu" [overlapTrigger]="false" xPosition="before">
                <span mat-menu-item class="username-label">
                  <mat-icon class="username-label">account_circle</mat-icon>{{ currentUser.person_role }}
                </span>
                <mat-divider></mat-divider>
                <button mat-menu-item (click)="logout()">
                  <mat-icon>exit_to_app</mat-icon>
                  Logout
                </button>
              </mat-menu>
            </span>
          </mat-toolbar-row>
        </mat-toolbar>
      </div>
      <div fxFlex="noshrink">
        <div fxLayout="row" fxLayoutAlign="center" fxLayoutWrap="wrap">
          <div class="main-content">
            <router-outlet></router-outlet>
          </div>
        </div>
      </div>
      <div fxFlex="none">
        <footer class="footer" fxLayout="row" fxLayoutAlign="end center">
          <span class="mr-20">
            2020 EBS Angular
          </span>
        </footer>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
